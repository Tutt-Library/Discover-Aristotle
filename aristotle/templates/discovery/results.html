{# for hit in results.hits.hits %}
{% set result = hit._source %}
<div class="row" style="padding-bottom: .5em">
    <div class="card col" >
        <div class="row">
            <section class="col-3">
                <img src="{{ url_for('aristotle.fedora_object', value=result.get('pid'), identifier="thumbnail") }}"
                     class="" style="width: 175px; margin: .5em">
            </section>
            <section class="col-9">
                <h3 class="card-title">
                    <a href="{{ url_for("aristotle.fedora_object", identifier="pid", value=result.pid) }}">{{ result.titlePrincipal }}</a>
                </h3>
                {% if result.creator %}<h4 class="card-title">by
                    {% for creator in  result.creator %}
                    <a href="{{ url_for('aristotle.query') }}?mode=creator&q={{ creator }}">{{ creator }}</a>
                    {% if not loop.last %},{% else %}</h4>{% endif %}
                    {% endfor %}
                {% endif %}
                {% for note in result.abstract %}
                    {% if note and note|length > 0 %}
                    <p class="card-text">{{ note }}</p>
                    {% endif %}
                {% endfor %}
            </section>
        </div>
    </div>
</div>
{% endfor #}

<ul class="list-unstyled">
{% if results %}
{% for hit in results.hits.hits %}
{% set result = hit._source %}
    <li class="media mb-2">
        <img class="mr-3 w-25 h-35" src="{{ url_for('aristotle.fedora_object', value=result.get('pid'), identifier="thumbnail") }}"
             alt="Thumbnail for {{ result.titlePrincipal }}" >
        <div class="media-body">
            <h5 class="mt-0 mb-1">
                <a href="{{ url_for("aristotle.fedora_object", identifier="pid", value=result.pid) }}">{{ result.titlePrincipal }}</a>
                {% if result.creator %}by 
                    {% for creator in  result.creator %}
                    <a href="{{ url_for('aristotle.query') }}?mode=creator&q={{ creator }}">{{ creator }}</a>
                    {% if not loop.last %},{% else %}</h4>{% endif %}
                    {% endfor %}
                {% endif %}
             </h5>
             {% for note in result.abstract %}
                 {% if note and note|length > 0 %}
                 <p class="card-text">{{ note }}</p>
                 {% endif %}
             {% endfor %}
        </div>
    </li>
{% endfor %}
</ul>

<div class="alert">
    Total hits: {{ results.hits.total }}<br>
    Offset: {{ offset }}<br>
    query: {{ q }}<br>
    size: {{ size }}<br>
    mode: {{ mode }}
</div>
{% if results.hits.total > size %}
<nav aria-label="Search results pagination">
    <ul class="pagination">
        <li class="page-item {% if offset|int == 0 %}disabled{% endif %}">
            <a href="{{ url_for('aristotle.fedora_object', identifier='pid', value=q) }}" 
              class="page-link"><i class="fa fa-angle-double-left" aria-hidden="true"></i> 
            </a>
        </li>
        <li class="page-item {% if offset|int == 0 %}disabled{% endif %}">
            <a href="{{ url_for('aristotle.fedora_object', identifier='pid', value=q) }}?offset={{ offset|int-size|int }}" 
              class="page-link"><i class="fa fa-angle-left" aria-hidden="true"></i> 
            </a>
        </li>
    {% for number in range(0, results.hits.total, size) %}
        {{ number|page_display(offset, size, q, loop.index0, loop.length)|safe }} 
    {% endfor %}
        <li class="page-item {% if (results.hits.total|int - offset|int) <= 25 %}disabled{% endif %}">
            <a href="{{ url_for('aristotle.fedora_object', identifier='pid', value=q) }}?offset={{ offset|int+size|int }}"
             class="page-link">
                <i class="fa fa-angle-right" aria-hidden="true"></i></a>
        </li>
        <li class="page-item {% if (results.hits.total|int - offset|int) <= 25 %}disabled{% endif %}">
            <a href="{{ url_for('aristotle.fedora_object', identifier='pid', value=q) }}?offset={{ (results.hits.total - size)|int }}#"
             class="page-link">
                <i class="fa fa-angle-double-right" aria-hidden="true"></i></a>
        </li>
    </ul>
</nav>
{% endif %}
{% endif %}
